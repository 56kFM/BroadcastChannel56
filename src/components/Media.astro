---
const { kind, url, mime, caption } = Astro.props as {
  kind: 'image' | 'video' | 'audio' | 'link'
  url: string
  mime?: string
  caption?: string
}
---

{
  kind === 'audio' && url && (
    <figure class="media-audio">
      <audio controls preload="none" style="width:100%">
        {mime ? <source src={url} type={mime} /> : <source src={url} />}
        <a href={url} target="_blank" rel="noopener noreferrer">
          Download audio
        </a>
      </audio>
      {caption && <figcaption>{caption}</figcaption>}
    </figure>
  )
}
